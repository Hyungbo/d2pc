# d2pc
MATLAB Codes for Data-Driven (output-feedback) Predictive Control

## Related paper

Refer to http://arxiv.org/abs/2201.03136

## Files

* run_me_v4.m: Updated version of run_me.m (the newest version as of Nov 2023)
* SimulationsInPaper.zip: Contains a few files that were used for generation of figures in the paper (Nov 2023)
* run_me.m: The main all-in-one MATLAB code for simluation (older version)
* d2pc: A folder that contains d2pc code only, for those who want to test D2PC (older version) 

## Introduction
This is a MATLAB code set to simulate the following controllers:

* Model Predictive Control (MPC): state-feedback, model-based
* Data-Driven Predictive Control (D2PC): output-feedback, model-free
* Data-enabled Predictive Control (DeePC): output-feedback model-free with/without regularization options

for three different benchmarks:

* Two-cart system: Two mass with one spring between them, Single-Input-Single-Output, Marginally stable system
* Inverted pendulum: Single-Input-Single-Output, Unstable system
* Four tanks: Two-Input-Two-Output, Stable system

The data in the submitted paper is generated by using this code set.

## Usage
Download run_me.m and run it.

This m-file is tested in MATLAB 2020b.

The m-file uses an optimization tool of either OSQP (https://osqp.org) or CVX (https://cvxr.com), which should have been installed in your MATLAB environment. (We recommend OSQP since CVX does not solve complex cases of our examples.) 

For those who cannot install one of these tools, the option inside the m-file can be set 'handful', in which case the QP problem is solved without using the solvers but cannot handle the input and output constraints. (In this case, the outcomes are different from those in the paper.)

To run DeePC, a solver (OSQP or CVX) is required.

## Limitation
The plant should be linear.

## Authors
Nam Hoon Jo (nhjo@ssu.ac.kr) and Hyungbo Shim (hshim@snu.ac.kr)

## Acknowledgement
The work is supported by Hyundai Motor Company.
